<!-- By default, rails escapes the below -->

<%# evil_string = "<script>alert('Gotcha!');</script>" %>
<%# good_string = "<strong>Welcome to my site!</strong>" %>


<!-- if you do this, it won't be in bold and won't alert -->
<!--
<%#= evil_string %><br />
<%#= good_string %><br />
-->

<!-- Raw says, this string is good one time, not globally -->
<%# raw(evil_string) %><br />
<%# raw(good_string) %><br />

<!-- They will come up as false -->
<%#= evil_string.html_safe? %><br />
<%#= good_string.html_safe? %><br />

<!-- This will tell it that it's safe -->

<% evil_string = "<script>alert('Gotcha!');</script>".html_safe %>
<% good_string = "<strong>Welcome to my site!</strong>".html_safe %>

<%= evil_string.html_safe? %><br />
<%= good_string.html_safe? %><br />

<%# h(evil_string) %><br />
<%# h(good_string) %><br />

<hr />

<% simple_string = '<strong>Please</strong> visit <a href="http://example.com">us</a>.' %>

<!-- removes links and tags -->
<%= strip_links(simple_string) %>
<%= strip_tags(simple_string) %>

<!-- sanitize, will clean evil stuff, so it'll remove scripts, and you HAVE to give it tags of what it will accepts  -->
<%= sanitize(evil_string) %><br />
<%= sanitize(simple_string, :tags => ['strong', 'em', 'a']) %><br />